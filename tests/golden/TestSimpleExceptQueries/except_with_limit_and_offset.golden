`
Query:

SELECT *
FROM employees e
WHERE department_id = 1
EXCEPT (
SELECT *
FROM employees
WHERE manager_id != 1
)
ORDER by employee_id
LIMIT 2 OFFSET 1

Plan:

                                                query plan
----------------------------------------------------------------------------------------------------------
 select (employee_id, first_name, last_name, email, manager_id, department_id, bonus)
    limit 2
        offset 1
            order by employee_id
                combination
                    select (employee_id, first_name, last_name, email, manager_id, department_id, bonus)
                        alias as e
                            table scan of employees
                                filter: department_id = 1
                with
                    select (employee_id, first_name, last_name, email, manager_id, department_id, bonus)
                        table scan of employees
                            filter: not manager_id = 1

(1 rows)

Results:

 employee_id | first_name | last_name |           email           | manager_id | department_id | bonus
-------------+------------+-----------+---------------------------+------------+---------------+-------
           4 |      Maria |    Warren |  maria.warren@company.com |          1 |             1 | <nil>
           5 |     Robert |    Medina | robert.medina@company.com |          1 |             1 | <nil>
(2 rows)
`
