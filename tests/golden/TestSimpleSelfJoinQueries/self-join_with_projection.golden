`
Query:

SELECT
e.employee_id,
e.last_name,
m.employee_id AS manager_id,
m.first_name AS manager_first_name,
m.last_name AS manager_last_name
FROM employees e
JOIN employees m ON m.employee_id = e.manager_id

Plan:

                                                             query plan
------------------------------------------------------------------------------------------------------------------------------------
 select (employee_id, last_name, m.employee_id as manager_id, m.first_name as manager_first_name, m.last_name as manager_last_name)
    join using nested loop
        alias as e
            table scan of employees
    with
        alias as m
            table scan of employees
                filter: employees.employee_id = e.manager_id
    on m.employee_id = e.manager_id

(1 rows)

Results:

 employee_id | last_name | manager_id | manager_first_name | manager_last_name
-------------+-----------+------------+--------------------+-------------------
           1 |      Head |          1 |           Annalisa |              Head
           2 |  Mahaffey |          4 |              Maria |            Warren
           3 |  Pattison |          1 |           Annalisa |              Head
           4 |    Warren |          1 |           Annalisa |              Head
           5 |    Medina |          1 |           Annalisa |              Head
           6 |   Cornish |          4 |              Maria |            Warren
           7 |    Dollar |          1 |           Annalisa |              Head
           8 |  McLendon |          4 |              Maria |            Warren
           9 |  Barnette |          1 |           Annalisa |              Head
          10 |    Howard |          9 |              Jimmy |          Barnette
          11 |   Glasser |          9 |              Jimmy |          Barnette
(11 rows)
`
