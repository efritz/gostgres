`
Query:

SELECT *
FROM employees e
JOIN employees m ON m.employee_id = e.manager_id

Plan:

                                                                             query plan
-------------------------------------------------------------------------------------------------------------------------------------------------------------------
 select (employee_id, first_name, last_name, email, manager_id, department_id, bonus, employee_id, first_name, last_name, email, manager_id, department_id, bonus)
    join using nested loop
        alias as e
            table scan of employees
    with
        alias as m
            table scan of employees
                filter: employees.employee_id = e.manager_id
    on m.employee_id = e.manager_id

(1 rows)

Results:

 employee_id | first_name | last_name |              email             | manager_id | department_id | bonus | employee_id | first_name | last_name |            email           | manager_id | department_id | bonus
-------------+------------+-----------+--------------------------------+------------+---------------+-------+-------------+------------+-----------+----------------------------+------------+---------------+-------
           1 |   Annalisa |      Head |      annalisa.head@company.com |          1 |             1 | 20000 |           1 |   Annalisa |      Head |  annalisa.head@company.com |          1 |             1 | 20000
           2 |    Clayton |  Mahaffey |   clayton.mahaffey@company.com |          4 |             2 | <nil> |           4 |      Maria |    Warren |   maria.warren@company.com |          1 |             1 | <nil>
           3 |     Manuel |  Pattison |    manuel.pattison@company.com |          1 |             3 | 10000 |           1 |   Annalisa |      Head |  annalisa.head@company.com |          1 |             1 | 20000
           4 |      Maria |    Warren |       maria.warren@company.com |          1 |             1 | <nil> |           1 |   Annalisa |      Head |  annalisa.head@company.com |          1 |             1 | 20000
           5 |     Robert |    Medina |      robert.medina@company.com |          1 |             1 | <nil> |           1 |   Annalisa |      Head |  annalisa.head@company.com |          1 |             1 | 20000
           6 |    Timothy |   Cornish |    timothy.cornish@company.com |          4 |             2 |  5000 |           4 |      Maria |    Warren |   maria.warren@company.com |          1 |             1 | <nil>
           7 |      Linda |    Dollar |       linda.dollar@company.com |          1 |             1 | <nil> |           1 |   Annalisa |      Head |  annalisa.head@company.com |          1 |             1 | 20000
           8 |  Frederick |  McLendon | frederick.mclendon@company.com |          4 |             2 | <nil> |           4 |      Maria |    Warren |   maria.warren@company.com |          1 |             1 | <nil>
           9 |      Jimmy |  Barnette |     jimmy.barnette@company.com |          1 |             3 |  3000 |           1 |   Annalisa |      Head |  annalisa.head@company.com |          1 |             1 | 20000
          10 |       Emma |    Howard |        emma.howard@company.com |          9 |             3 | 21500 |           9 |      Jimmy |  Barnette | jimmy.barnette@company.com |          1 |             3 |  3000
          11 |    Deborah |   Glasser |    deborah.glasser@company.com |          9 |             1 | <nil> |           9 |      Jimmy |  Barnette | jimmy.barnette@company.com |          1 |             3 |  3000
(11 rows)
`
