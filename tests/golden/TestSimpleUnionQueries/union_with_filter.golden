`
Query:

SELECT * FROM (
SELECT *
FROM employees
WHERE department_id = 1
UNION (
	SELECT *
	FROM employees
	WHERE department_id = 2
)
) s
WHERE s.manager_id = 1

Plan:

select (employee_id, first_name, last_name, email, manager_id, department_id)
    alias as s
        select (employee_id, first_name, last_name, email, manager_id, department_id)
            union
                select (employee_id, first_name, last_name, email, manager_id, department_id)
                    table scan of employees
                        filter: department_id = 1 and employees.manager_id = 1
            with
                select (employee_id, first_name, last_name, email, manager_id, department_id)
                    table scan of employees
                        filter: department_id = 2 and employees.manager_id = 1

Results:

 employee_id | first_name | last_name |           email           | manager_id | department_id
-------------+------------+-----------+---------------------------+------------+---------------
           1 |   Annalisa |      Head | annalisa.head@company.com |          1 |             1
           4 |      Maria |    Warren |  maria.warren@company.com |          1 |             1
           5 |     Robert |    Medina | robert.medina@company.com |          1 |             1
           7 |      Linda |    Dollar |  linda.dollar@company.com |          1 |             1
(4 rows)
`
